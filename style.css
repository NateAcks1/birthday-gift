/*
  Romantic Birthday Surprise Styles
  Fonts: Heading - "Dancing Script", Body - "Poppins"
  Theme: Pink gradient background, soft glows, rounded corners, smooth transitions

  How to customize:
  - Unlock date is set in script.js (default: 2006-11-11)
  - Replace gallery images directly in index.html or via script
  - Cake flame/smoke animations: see .candle__flame and .candle__smoke keyframes below
*/

:root {
  --pink-50: #ffe6f0;
  --pink-100: #ffd1e3;
  --pink-200: #ffb3d1;
  --pink-300: #ff8cb8;
  --pink-400: #ff6fa6;
  --pink-500: #ff4f95;
  --pink-600: #ff3b88;
  --rose-600: #e11d48;
  --rose-400: #fb7185;
  --white: #fff;
  --text: #3b0d1c;
  --shadow: rgba(255, 105, 180, 0.35);
  --glow: 0 10px 25px rgba(255, 105, 180, 0.35);
}

* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font-family: "Poppins", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  color: var(--text);
  background: linear-gradient(135deg, #e3f2fd, #bbdefb 40%, #90caf9 70%, #64b5f6);
  overflow-x: hidden;
}

.page { min-height: 100dvh; display: grid; place-items: center; padding: 2rem 1rem; }
.page--hidden { display: none; }
.page--active { display: grid; }

.card {
  width: min(680px, 92vw);
  padding: 2rem;
  border-radius: 20px;
  background: rgba(255, 255, 255, 0.55);
  backdrop-filter: blur(8px);
  box-shadow: var(--glow);
  text-align: center;
  transition: transform .3s ease, box-shadow .3s ease;
}
.card--unlock { border: 2px solid var(--pink-200); }
.card--unlock.shake { animation: shake .5s ease; }

.heading {
  font-family: "Dancing Script", cursive;
  font-size: clamp(2rem, 6vw, 3rem);
  color: #b85c6b;
  margin: 0 0 .25rem 0;
}
.subheading { color: #a31243; margin: 0 0 1.25rem 0; }

.unlock-image { margin: 1.5rem auto; width: min(280px, 85%); border-radius: 16px; overflow: hidden; border: 2px solid var(--pink-300); box-shadow: var(--glow); }
.unlock-image__img { width: 100%; height: auto; display: block; max-height: 300px; object-fit: cover; }

.label { display: block; margin: .75rem 0 .25rem; font-weight: 500; }

.input-date {
  width: 100%;
  padding: .85rem 1rem;
  border-radius: 14px;
  border: 2px solid var(--pink-300);
  background: var(--white);
  color: var(--text);
  outline: none;
  box-shadow: inset 0 0 0 3px rgba(255, 105, 180, 0.08);
  transition: box-shadow .2s ease, border-color .2s ease;
}
.input-date:focus { border-color: var(--pink-500); box-shadow: inset 0 0 0 3px rgba(255, 79, 149, .15); }

.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: .5rem;
  padding: .9rem 1.2rem;
  border: 0;
  border-radius: 999px;
  cursor: pointer;
  font-weight: 600;
  transition: transform .15s ease, box-shadow .2s ease, background .3s ease, color .3s ease;
}
.btn-primary {
  background: linear-gradient(135deg, var(--pink-500), var(--rose-400));
  color: var(--white);
  box-shadow: var(--glow);
}
.btn-primary:hover { transform: translateY(-1px) scale(1.02); box-shadow: 0 14px 30px rgba(255, 105, 180, .45); }
.btn-primary:active { transform: translateY(0) scale(.98); }

.btn-secondary { background: var(--pink-100); color: #a31243; border: 2px solid var(--pink-300); }
.btn-secondary:hover { background: var(--pink-200); }

.btn.success { background: linear-gradient(135deg, #22c55e, #16a34a); box-shadow: 0 10px 25px rgba(34, 197, 94, .35); }

.glow { filter: drop-shadow(0 6px 18px rgba(255, 105, 180, .35)); }

.message { height: 1.25rem; color: #b1124d; font-weight: 500; margin-top: .75rem; }

.hero { text-align: center; padding: 2rem 1rem 1rem; }
.hero__title { font-family: "Dancing Script", cursive; font-size: clamp(2rem, 5.5vw, 3rem); color: var(--white); margin: 0 0 .5rem; text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2); }
.hero__subtitle { max-width: 900px; margin: 0 auto; color: rgba(255, 255, 255, 0.95); text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.15); }

.section { width: min(1100px, 92vw); margin: 2rem auto; padding: 1.5rem; background: rgba(255, 255, 255, .45); border: 2px solid var(--pink-200); border-radius: 24px; box-shadow: var(--glow); }
.section__title { font-family: "Dancing Script", cursive; font-size: clamp(1.6rem, 4.8vw, 2.2rem); color: var(--rose-600); text-align: center; margin: .25rem 0 1.25rem; }

/* Cake */
.section--wish { text-align: center; }
.cake { position: relative; width: 220px; height: 210px; margin: 0 auto 1rem; }
.cake__plate { position: absolute; bottom: 0; left: 50%; transform: translateX(-50%); width: 260px; height: 22px; background: #ffd7e7; border-radius: 14px; box-shadow: inset 0 6px 10px rgba(0,0,0,.06); }
.cake__body { position: absolute; bottom: 22px; left: 50%; transform: translateX(-50%); width: 220px; height: 130px; background: linear-gradient(180deg, #7b3f00, #5a2d0c); border-radius: 18px; box-shadow: 0 10px 20px rgba(90, 45, 12, .35); }
.cake__frosting { position: absolute; top: -20px; left: 0; right: 0; height: 44px; background: repeating-linear-gradient(90deg, #ffd1e3 0 12px, #ffb3d1 12px 24px); border-top-left-radius: 18px; border-top-right-radius: 18px; }
.cake__sprinkles::before, .cake__sprinkles::after { content: ""; position: absolute; inset: 0; background: radial-gradient(circle at 30% 40%, #ff4f95 2px, transparent 3px), radial-gradient(circle at 55% 65%, #ff8cb8 2px, transparent 3px), radial-gradient(circle at 75% 30%, #e11d48 2px, transparent 3px), radial-gradient(circle at 15% 70%, #fb7185 2px, transparent 3px); opacity: .8; }

.candle { position: absolute; bottom: 150px; left: 50%; transform: translateX(-50%); width: 16px; height: 60px; background: repeating-linear-gradient(90deg, #ffd1e3 0 6px, #ffc1da 6px 12px); border-radius: 8px; box-shadow: 0 2px 6px rgba(0,0,0,.08); display: grid; place-items: center; }
.candle--far-left { left: calc(50% - 64px); }
.candle--left { left: calc(50% - 36px); }
.candle--center { left: 50%; }
.candle--right { left: calc(50% + 36px); }
.candle--far-right { left: calc(50% + 64px); }
.candle__wick { width: 2px; height: 10px; background: #2b2b2b; border-radius: 2px; margin-top: -6px; }
.candle__flame { position: absolute; top: -22px; width: 16px; height: 24px; background: radial-gradient(circle at 50% 40%, #fff7a1, #ffd166 60%, #ff9f1c 80%); border-radius: 50% 50% 50% 50%/60% 60% 40% 40%; filter: drop-shadow(0 0 8px rgba(255, 179, 0, .8)); animation: flicker .12s infinite alternate; opacity: 1; transform-origin: bottom center; }
.candle__flame.off { opacity: 0; }
.candle__smoke { position: absolute; top: -10px; width: 2px; height: 2px; border-radius: 50%; background: transparent; opacity: 0; }
.candle__smoke.show { animation: smoke 1.2s ease-out forwards; }

@keyframes flicker { 0% { transform: translateY(0) scale(1) skewX(-1deg); } 100% { transform: translateY(1px) scale(1.05) skewX(1deg); } }
@keyframes smoke {
  0% { box-shadow: 0 0 0 0 rgba(120,120,120,.0); opacity: 0; transform: translateY(0) scale(1); }
  10% { opacity: .6; }
  100% { box-shadow: -6px -40px 0 16px rgba(120,120,120,.18), 8px -80px 0 24px rgba(120,120,120,.08), -4px -120px 0 32px rgba(120,120,120,.04); opacity: 0; transform: translateY(-90px) scale(1.5); }
}

/* Story cards */
.story-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; }
.story-card { background: rgba(255,255,255,.8); border: 2px solid var(--pink-200); border-radius: 18px; padding: 1rem; box-shadow: var(--glow); opacity: 0; transform: translateY(16px); transition: opacity .6s ease, transform .6s ease; }
.story-card h4 { margin: .25rem 0 .5rem; color: var(--rose-600); }
.story-card.revealed { opacity: 1; transform: translateY(0); }

/* Memories gallery */
.gallery { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; }
.gallery__item { background: rgba(255,255,255,.8); border-radius: 16px; overflow: hidden; border: 2px solid var(--pink-200); box-shadow: var(--glow); transform: translateY(16px); opacity: 0; transition: transform .5s ease, opacity .5s ease, box-shadow .2s ease; }
.gallery__item img { width: 100%; height: 220px; object-fit: cover; display: block; }
.gallery__item figcaption { padding: .5rem .75rem; color: #9b1440; font-size: .9rem; }
.gallery__item:hover { transform: translateY(-4px) scale(1.02); box-shadow: 0 16px 34px rgba(255, 105, 180, .4); }
.gallery__item.revealed { transform: translateY(0); opacity: 1; }

/* Love Letter Envelope */
.section--letter { text-align: center; }
.envelope { position: relative; width: min(420px, 88vw); height: 280px; margin: 0 auto 1rem; perspective: 1200px; }
.envelope__back { position: absolute; inset: 0; background: linear-gradient(180deg, #ffd1e3, #ffb3d1); border-radius: 14px; border: 2px solid var(--pink-300); box-shadow: var(--glow); }
.envelope__front { position: absolute; inset: 0; border-radius: 14px; pointer-events: none; }
.envelope__flap { position: absolute; top: 0; left: 0; right: 0; height: 58%; background: linear-gradient(180deg, #ffc1da, #ff9ec6); clip-path: polygon(0 0, 100% 0, 50% 100%); transform-origin: top; transition: transform .8s cubic-bezier(.2,.9,.2,1); border-top-left-radius: 14px; border-top-right-radius: 14px; border: 2px solid var(--pink-300); border-bottom: none; }
.envelope.open .envelope__flap { transform: rotateX(180deg); }
.envelope__seal { position: absolute; top: 40%; left: 50%; transform: translate(-50%, -50%); width: 54px; height: 54px; border-radius: 50%; background: var(--pink-500); display: grid; place-items: center; color: var(--white); box-shadow: 0 10px 25px rgba(255,105,180,.35); border: 3px solid var(--pink-100); }
.envelope__paper { position: absolute; inset: 14% 10% 12% 10%; background: #fffafc; border-radius: 10px; box-shadow: inset 0 0 0 2px var(--pink-100); overflow: hidden; display: grid; place-items: start; padding: 1rem; transform: translateY(40%); transition: transform .8s cubic-bezier(.2,.9,.2,1) .1s; }
.envelope.open .envelope__paper { transform: translateY(0%); }
.letter__content { font-family: "Poppins"; text-align: left; white-space: pre-wrap; font-size: .95rem; color: #7b0f34; min-height: 140px; }

/* Full-screen Love Letter Overlay */
.overlay { position: fixed; inset: 0; background: radial-gradient(1200px 800px at 50% 20%, rgba(227,242,253,.85), rgba(187,222,251,.75), rgba(255,180,210,.4)); display: none; align-items: center; justify-content: center; padding: 2rem 1rem; z-index: 1000; }
.overlay--hidden { display: none; }
.overlay:not(.overlay--hidden) { display: flex; }
.overlay__content { width: min(1000px, 94vw); max-height: 86vh; overflow: auto; background: rgba(255,255,255,.85); border: 2px solid var(--pink-300); border-radius: 24px; box-shadow: 0 22px 60px rgba(255,105,180,.45); padding: 1.25rem 1.25rem 2rem; position: relative; }
.overlay__title { font-family: "Dancing Script", cursive; color: var(--rose-600); font-size: clamp(1.8rem, 5vw, 2.6rem); text-align: center; margin: .25rem 0 1rem; }
.overlay__letter { white-space: pre-wrap; color: #7b0f34; font-size: clamp(1rem, 2.5vw, 1.15rem); line-height: 1.8; padding: .5rem .5rem 0; }
.overlay__close { position: sticky; top: .5rem; float: right; margin-left: auto; }

/* Floating Hearts Background */
#floating-hearts-container { position: fixed; inset: 0; overflow: hidden; pointer-events: none; z-index: 0; }
.heart { position: absolute; color: #ff5ea8; opacity: .6; filter: drop-shadow(0 6px 12px rgba(255,105,180,.35)); animation: floatUp linear forwards; }
@keyframes floatUp { from { transform: translateY(0) scale(1); opacity: .2; } to { transform: translateY(-120vh) scale(1.4); opacity: 0; } }

/* Reveal on scroll generic */
.reveal-on-scroll { opacity: 0; transform: translateY(16px); transition: opacity .6s ease, transform .6s ease; }
.reveal-on-scroll.revealed { opacity: 1; transform: translateY(0); }

/* Shake animation for wrong date */
@keyframes shake { 0%, 100% { transform: translateX(0); } 20% { transform: translateX(-6px); } 40% { transform: translateX(6px); } 60% { transform: translateX(-4px); } 80% { transform: translateX(4px); } }

/* Footer */
.footer { text-align: center; padding: 1.5rem; color: rgba(255, 255, 255, 0.9); text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.15); }

/* Responsive */
@media (max-width: 900px) {
  .story-grid { grid-template-columns: 1fr; }
  .gallery { grid-template-columns: repeat(2, 1fr); }
  .gallery__item img { height: 200px; }
}
@media (max-width: 560px) {
  .gallery { grid-template-columns: 1fr; }
  .gallery__item img { height: 200px; }
}


